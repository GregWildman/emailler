SYMBOLS {
    __EXEHDR__:   type = import;
    __LOADADDR__: type = weak, value = __STARTUP_RUN__;
    __LOADSIZE__: type = weak, value = __BSS_RUN__ - __STARTUP_RUN__;
}
MEMORY {
    ZP:     start =   $00, size =   $08;
    IP65ZP: start =   $E0, size =   $00; #zero size as we hand allocate all ZP locations
    HEADER: start = $0800, size =   $04, file = %O;
    RAM:    start = $0803, size = $77FC, file = %O;
}
SEGMENTS {
    ZEROPAGE:           load = ZP,     type = zp;
    IP65ZP:             load = IP65ZP, type = zp,  optional = yes;
    EXEHDR:             load = HEADER, type = ro;
    STARTUP:            load = RAM,    type = ro,  define = yes;
    CODE:               load = RAM,    type = ro;
    RODATA:             load = RAM,    type = ro;
    DATA:               load = RAM,    type = rw;
    SELF_MODIFIED_CODE: load = RAM,    type = rw,  optional = yes;
    IP65_DEFAULTS:      load = RAM,    type = rw;
    BSS:                load = RAM,    type = bss, define = yes;
    APP_SCRATCH:        load = RAM,    type = bss, optional = yes;
    TCP_VARS:           load = RAM,    type = bss, optional = yes;
    HTTP_VARS:          load = RAM,    type = bss, optional = yes;
}
